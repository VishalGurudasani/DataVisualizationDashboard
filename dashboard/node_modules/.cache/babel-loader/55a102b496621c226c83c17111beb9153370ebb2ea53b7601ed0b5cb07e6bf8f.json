{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\visha\\\\OneDrive\\\\Desktop\\\\Data Visualization\\\\dashboard\\\\src\\\\Graphs\\\\Line.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Line = ({\n  serverData\n}) => {\n  _s();\n  const svgRef = useRef(null);\n  useEffect(() => {\n    // Check if serverData.data is an array\n    d3.select(svgRef.current).selectAll('*').remove();\n    if (Array.isArray(serverData.data) && serverData.data.length > 0) {\n      let uniquePestle = [];\n      serverData.data.forEach(i => {\n        if (!uniquePestle.includes(i.pestle) && i.pestle !== '') {\n          uniquePestle.push(i.pestle);\n        }\n      });\n      const pestleCount = uniquePestle.map(item => {\n        return {\n          pestle: item,\n          count: serverData.data.filter(i => i.pestle === item).length\n        };\n      });\n      const width = 600;\n      const height = 400;\n      const margin = {\n        top: 20,\n        right: 20,\n        bottom: 30,\n        left: 50\n      };\n      const svg = d3.select(svgRef.current).attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom).append('g').attr('transform', `translate(${margin.left}, ${margin.top})`);\n      const x = d3.scaleBand().range([0, width]).padding(0.1).domain(uniquePestle);\n      const y = d3.scaleLinear().range([height, 0]).domain([0, d3.max(pestleCount, d => d.count)]);\n      svg.append('g').attr('transform', `translate(0, ${height})`).call(d3.axisBottom(x));\n      svg.append('g').call(d3.axisLeft(y));\n      svg.selectAll('.line').data([pestleCount]).join('path').attr('fill', 'none').attr('stroke', 'steelblue').attr('stroke-width', 1.5).attr('d', d3.line().x(d => x(d.pestle)).y(d => y(d.count)).curve(d3.curveMonotoneX));\n    } else {\n      console.log('serverData is not an array');\n    }\n  }, [serverData.data]);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: svgRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 10\n  }, this);\n};\n_s(Line, \"89Ty783ABEwsfMbSOeu9vscWF34=\");\n_c = Line;\nexport default Line;\nvar _c;\n$RefreshReg$(_c, \"Line\");","map":{"version":3,"names":["React","useEffect","useRef","d3","jsxDEV","_jsxDEV","Line","serverData","_s","svgRef","select","current","selectAll","remove","Array","isArray","data","length","uniquePestle","forEach","i","includes","pestle","push","pestleCount","map","item","count","filter","width","height","margin","top","right","bottom","left","svg","attr","append","x","scaleBand","range","padding","domain","y","scaleLinear","max","d","call","axisBottom","axisLeft","join","line","curve","curveMonotoneX","console","log","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/visha/OneDrive/Desktop/Data Visualization/dashboard/src/Graphs/Line.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport * as d3 from 'd3';\r\n\r\nconst Line = ({ serverData }) => {\r\n  const svgRef = useRef(null);\r\n \r\n\r\n  useEffect(() => {\r\n    // Check if serverData.data is an array\r\n    d3.select(svgRef.current).selectAll('*').remove();\r\n    if (Array.isArray(serverData.data) && serverData.data.length > 0) {\r\n      let uniquePestle = [];\r\n      serverData.data.forEach((i) => {\r\n        if (!uniquePestle.includes(i.pestle) && i.pestle !== '') {\r\n          uniquePestle.push(i.pestle);\r\n        }\r\n      });\r\n\r\n      const pestleCount = uniquePestle.map((item) => {\r\n        return {\r\n          pestle: item,\r\n          count: serverData.data.filter((i) => i.pestle === item).length,\r\n        };\r\n      });\r\n\r\n      const width = 600;\r\n      const height = 400;\r\n      const margin = { top: 20, right: 20, bottom: 30, left: 50 };\r\n\r\n      const svg = d3\r\n        .select(svgRef.current)\r\n        .attr('width', width + margin.left + margin.right)\r\n        .attr('height', height + margin.top + margin.bottom)\r\n        .append('g')\r\n        .attr('transform', `translate(${margin.left}, ${margin.top})`);\r\n\r\n      const x = d3\r\n        .scaleBand()\r\n        .range([0, width])\r\n        .padding(0.1)\r\n        .domain(uniquePestle);\r\n\r\n      const y = d3\r\n        .scaleLinear()\r\n        .range([height, 0])\r\n        .domain([0, d3.max(pestleCount, (d) => d.count)]);\r\n\r\n      svg\r\n        .append('g')\r\n        .attr('transform', `translate(0, ${height})`)\r\n        .call(d3.axisBottom(x));\r\n\r\n      svg.append('g').call(d3.axisLeft(y));\r\n\r\n      svg\r\n        .selectAll('.line')\r\n        .data([pestleCount])\r\n        .join('path')\r\n        .attr('fill', 'none')\r\n        .attr('stroke', 'steelblue')\r\n        .attr('stroke-width', 1.5)\r\n        .attr(\r\n          'd',\r\n          d3\r\n            .line()\r\n            .x((d) => x(d.pestle))\r\n            .y((d) => y(d.count))\r\n            .curve(d3.curveMonotoneX)\r\n        );\r\n    } else {\r\n      console.log('serverData is not an array');\r\n    }\r\n  }, [serverData.data]);\r\n\r\n  return <svg ref={svgRef}></svg>;\r\n};\r\n\r\nexport default Line;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}